{"version":3,"sources":["context/AuthReducer.js","context/AuthContext.js","components/topbar/Topbar.jsx","dummyData.js","components/closeFriend/CloseFriend.jsx","components/sidebar/Sidebar.jsx","components/post/Post.jsx","components/share/Share.jsx","components/feed/Feed.jsx","components/online/Online.jsx","components/rightbar/Rightbar.jsx","pages/home/Home.jsx","apiCalls.js","pages/login/Login.jsx","pages/profile/Profile.jsx","pages/register/Register.jsx","components/conversations/Conversation.jsx","components/message/Message.jsx","components/chatOnline/ChatOnline.jsx","pages/messenger/Messenger.jsx","App.js","index.js"],"names":["AuthReducer","state","action","type","user","isFetching","error","payload","followings","filter","following","INITIAL_STATE","JSON","parse","localStorage","getItem","AuthContext","createContext","AuthContextProvider","_ref","children","dispatch","useReducer","useEffect","setItem","stringify","_jsx","Provider","value","Topbar","useContext","PF","process","_jsxs","className","Link","to","style","textDecoration","Search","placeholder","Person","Chat","Notifications","concat","username","src","profilePicture","alt","Users","id","CloseFriend","Sidebar","RssFeed","PlayCircleFilledOutlined","Group","Bookmark","HelpOutline","WorkOutline","Event","School","map","u","Post","post","like","setLike","useState","likes","length","isLiked","setIsLiked","setUser","currentUser","includes","_id","async","res","axios","get","userId","data","fetchUser","likeHandler","put","err","format","createdAt","MoreVert","desc","img","onClick","comment","Share","useRef","file","setFile","ref","URL","createObjectURL","Cancel","onSubmit","e","preventDefault","newPost","current","FormData","fileName","Date","now","name","append","console","log","window","location","reload","htmlFor","PermMedia","htmlColor","display","accept","onChange","target","files","Label","Room","EmojiEmotions","Feed","posts","setPosts","sort","p1","p2","fetchPosts","p","Online","Rightbar","friends","setFriends","followed","setFollowed","friendList","getFriends","handleClick","HomeRightbar","_Fragment","ProfileRightbar","Remove","Add","city","from","relationship","friend","Home","loginCall","userCredential","Login","email","password","required","minLength","disabled","CircularProgress","color","size","Profile","useParams","coverPicture","Register","passwordAgain","history","useHistory","setCustomValidity","push","handleLoginClick","Conversation","conversation","friendId","members","find","m","getUser","Message","message","own","text","ChatOnline","onlineUsers","currentId","setCurrentChat","onlineFriends","setOnlineFriends","f","o","Messenger","conversations","setConversations","currentChat","messages","setMessages","newMessage","setNewMessage","arrivalMessage","setArrivalMessage","setOnlineUsers","socket","scrollRef","io","on","sender","senderId","prev","emit","users","some","getConversations","getMessages","_scrollRef$current","scrollIntoView","behavior","c","conversationId","receiverId","member","App","Router","Switch","Route","exact","path","Redirect","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f13631cb.chunk.js","sourcesContent":["const AuthReducer = (state, action) => {\r\n    switch (action.type) {\r\n      case \"LOGIN_START\":\r\n        return {\r\n          user: null,\r\n          isFetching: true,\r\n          error: false,\r\n        };\r\n      case \"LOGIN_SUCCESS\":\r\n        return {\r\n          user: action.payload,\r\n          isFetching: false,\r\n          error: false,\r\n        };\r\n      case \"LOGIN_FAILURE\":\r\n        return {\r\n          user: null,\r\n          isFetching: false,\r\n          error: true,\r\n        };\r\n      case \"FOLLOW\":\r\n        return {\r\n          ...state,\r\n          user: {\r\n            ...state.user,\r\n            followings: [...state.user.followings, action.payload],\r\n          },\r\n        };\r\n      case \"UNFOLLOW\":\r\n        return {\r\n          ...state,\r\n          user: {\r\n            ...state.user,\r\n            followings: state.user.followings.filter(\r\n              (following) => following !== action.payload\r\n            ),\r\n          },\r\n        };\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n  \r\n  export default AuthReducer;","import { createContext, useEffect, useReducer } from \"react\";\r\nimport AuthReducer from \"./AuthReducer\";\r\n\r\nconst INITIAL_STATE = {\r\n  user:JSON.parse(localStorage.getItem(\"user\")) || null,\r\n  isFetching: false,\r\n  error: false,\r\n};\r\n\r\n\r\nexport const AuthContext = createContext(INITIAL_STATE);\r\n\r\nexport const AuthContextProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(AuthReducer, INITIAL_STATE);\r\n  \r\n  useEffect(()=>{\r\n    localStorage.setItem(\"user\", JSON.stringify(state.user))\r\n  },[state.user])\r\n  \r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        user: state.user,\r\n        isFetching: state.isFetching,\r\n        error: state.error,\r\n        dispatch,\r\n      }}\r\n    >\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};","\r\nimport \"./topbar.css\";\r\nimport { Search, Person, Chat, Notifications } from \"@mui/icons-material\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useContext } from \"react\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nexport default function Topbar() {\r\n  const { user } = useContext(AuthContext);\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  return (\r\n    <div className=\"topbarContainer\">\r\n      <div className=\"topbarLeft\">\r\n        <Link to=\"/\" style={{ textDecoration: \"none\" }}>\r\n          <span className=\"logo\">OneWorld</span>\r\n        </Link>\r\n      </div>\r\n      <div className=\"topbarCenter\">\r\n        <div className=\"searchbar\">\r\n          <Search className=\"searchIcon\" />\r\n          <input\r\n            placeholder=\"Search for friend, post or video\"\r\n            className=\"searchInput\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"topbarRight\">\r\n        <div className=\"topbarLinks\">\r\n          <span className=\"topbarLink\">Homepage</span>\r\n          <span className=\"topbarLink\">Timeline</span>\r\n        </div>\r\n        <div className=\"topbarIcons\">\r\n          <div className=\"topbarIconItem\">\r\n            <Person />\r\n            <span className=\"topbarIconBadge\">1</span>\r\n          </div>\r\n          <div className=\"topbarIconItem\">\r\n            <Chat />\r\n            <span className=\"topbarIconBadge\">2</span>\r\n          </div>\r\n          <div className=\"topbarIconItem\">\r\n            <Notifications />\r\n            <span className=\"topbarIconBadge\">1</span>\r\n          </div>\r\n        </div>\r\n        <Link to={`/profile/${user.username}`}>\r\n          <img\r\n            src={\r\n              user.profilePicture\r\n                ? PF + user.profilePicture\r\n                : PF + \"person/noAvatar.png\"\r\n            }\r\n            alt=\"\"\r\n            className=\"topbarImg\"\r\n          />\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export const Users = [\r\n    {\r\n      id:1,\r\n      profilePicture: \"person/1.jpeg\",\r\n      username: \"Safak Kocaoglu\",\r\n    },\r\n    {\r\n      id:2,\r\n      profilePicture: \"person/2.jpeg\",\r\n      username: \"Janell Shrum\",\r\n    },\r\n    {\r\n      id:3,\r\n      profilePicture: \"person/3.jpeg\",\r\n      username: \"Alex Durden\",\r\n    },\r\n    {\r\n      id:4,\r\n      profilePicture: \"person/4.jpeg\",\r\n      username: \"Dora Hawks\",\r\n    },\r\n    {\r\n      id:5,\r\n      profilePicture: \"person/5.jpeg\",\r\n      username: \"Thomas Holden\",\r\n    },\r\n    {\r\n      id:6,\r\n      profilePicture: \"person/6.jpeg\",\r\n      username: \"Shirley Beauchamp\",\r\n    },\r\n    {\r\n      id:7,\r\n      profilePicture: \"person/7.jpeg\",\r\n      username: \"Travis Bennett\",\r\n    },\r\n    {\r\n      id:8,\r\n      profilePicture: \"person/8.jpeg\",\r\n      username: \"Kristen Thomas\",\r\n    },\r\n    {\r\n      id:9,\r\n      profilePicture: \"person/9.jpeg\",\r\n      username: \"Gary Duty\",\r\n    },\r\n    {\r\n      id:10,\r\n      profilePicture: \"person/10.jpeg\",\r\n      username: \"Safak Kocaoglu\",\r\n    },\r\n  ];\r\n  \r\n  export const Posts = [\r\n    {\r\n      id: 1,\r\n      desc: \"Love For All, Hatred For None.\",\r\n      photo: \"post/1.jpeg\",\r\n      date: \"5 mins ago\",\r\n      userId: 1,\r\n      like: 32,\r\n      comment: 9,\r\n    },\r\n    {\r\n      id: 2,\r\n      photo: \"post/2.jpeg\",\r\n      date: \"15 mins ago\",\r\n      userId: 2,\r\n      like: 2,\r\n      comment: 1,\r\n    },\r\n    {\r\n      id: 3,\r\n      desc: \"Every moment is a fresh beginning.\",\r\n      photo: \"post/3.jpeg\",\r\n      date: \"1 hour ago\",\r\n      userId: 3,\r\n      like: 61,\r\n      comment: 2,\r\n    },\r\n    {\r\n      id: 4,\r\n      photo: \"post/4.jpeg\",\r\n      date: \"4 hours ago\",\r\n      userId: 4,\r\n      like: 7,\r\n      comment: 3,\r\n    },\r\n    {\r\n      id: 5,\r\n      photo: \"post/5.jpeg\",\r\n      date: \"5 hours ago\",\r\n      userId: 5,\r\n      like: 23,\r\n      comment: 5,\r\n    },\r\n    {\r\n      id: 6,\r\n      photo: \"post/6.jpeg\",\r\n      date: \"1 day ago\",\r\n      userId: 6,\r\n      like: 44,\r\n      comment: 6,\r\n    },\r\n    {\r\n      id: 7,\r\n      desc: \"Never regret anything that made you smile.\",\r\n      photo: \"post/7.jpeg\",\r\n      date: \"2 days ago\",\r\n      userId: 7,\r\n      like: 52,\r\n      comment: 3,\r\n    },\r\n    {\r\n      id: 8,\r\n      photo: \"post/8.jpeg\",\r\n      date: \"3 days ago\",\r\n      userId: 8,\r\n      like: 15,\r\n      comment: 1,\r\n    },\r\n    {\r\n      id: 9,\r\n      desc: \"Change the world by being yourself.\",\r\n      photo: \"post/9.jpeg\",\r\n      date: \"5 days ago\",\r\n      userId: 9,\r\n      like: 11,\r\n      comment: 2,\r\n    },\r\n    {\r\n      id: 10,\r\n      photo: \"post/10.jpeg\",\r\n      date: \"1 week ago\",\r\n      userId: 10,\r\n      like: 104,\r\n      comment: 12,\r\n    },\r\n  ];","import \"./closeFriend.css\";\r\n\r\nexport default function CloseFriend({user}) {\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  return (\r\n    <li className=\"sidebarFriend\">\r\n      <img className=\"sidebarFriendImg\" src={PF+user.profilePicture} alt=\"\" />\r\n      <span className=\"sidebarFriendName\">{user.username}</span>\r\n    </li>\r\n  );\r\n}","\r\nimport \"./sidebar.css\";\r\nimport {\r\n  RssFeed,\r\n  Chat,\r\n  PlayCircleFilledOutlined,\r\n  Group,\r\n  Bookmark,\r\n  HelpOutline,\r\n  WorkOutline,\r\n  Event,\r\n  School,\r\n} from \"@mui/icons-material\";\r\nimport { Users } from \"../../dummyData\";\r\nimport CloseFriend from \"../closeFriend/CloseFriend\";\r\n\r\nexport default function Sidebar() {\r\n  return (\r\n    <div className=\"sidebar\">\r\n      <div className=\"sidebarWrapper\">\r\n        <ul className=\"sidebarList\">\r\n          <li className=\"sidebarListItem\">\r\n            <RssFeed className=\"sidebarIcon\" />\r\n            <span className=\"sidebarListItemText\">Feed</span>\r\n          </li>\r\n          <li className=\"sidebarListItem\">\r\n            <Chat className=\"sidebarIcon\" />\r\n            <span className=\"sidebarListItemText\">Chats</span>\r\n          </li>\r\n          <li className=\"sidebarListItem\">\r\n            <PlayCircleFilledOutlined className=\"sidebarIcon\" />\r\n            <span className=\"sidebarListItemText\">Videos</span>\r\n          </li>\r\n          <li className=\"sidebarListItem\">\r\n            <Group className=\"sidebarIcon\" />\r\n            <span className=\"sidebarListItemText\">Groups</span>\r\n          </li>\r\n          <li className=\"sidebarListItem\">\r\n            <Bookmark className=\"sidebarIcon\" />\r\n            <span className=\"sidebarListItemText\">Bookmarks</span>\r\n          </li>\r\n          <li className=\"sidebarListItem\">\r\n            <HelpOutline className=\"sidebarIcon\" />\r\n            <span className=\"sidebarListItemText\">Questions</span>\r\n          </li>\r\n          <li className=\"sidebarListItem\">\r\n            <WorkOutline className=\"sidebarIcon\" />\r\n            <span className=\"sidebarListItemText\">Jobs</span>\r\n          </li>\r\n          <li className=\"sidebarListItem\">\r\n            <Event className=\"sidebarIcon\" />\r\n            <span className=\"sidebarListItemText\">Events</span>\r\n          </li>\r\n          <li className=\"sidebarListItem\">\r\n            <School className=\"sidebarIcon\" />\r\n            <span className=\"sidebarListItemText\">Courses</span>\r\n          </li>\r\n        </ul>\r\n        <button className=\"sidebarButton\">Show More</button>\r\n        <hr className=\"sidebarHr\" />\r\n        <ul className=\"sidebarFriendList\">\r\n          {Users.map((u) => (\r\n            <CloseFriend key={u.id} user={u} />\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","\r\nimport \"./post.css\";\r\nimport { MoreVert } from \"@mui/icons-material\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { format } from \"timeago.js\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nexport default function Post({ post }) {\r\n  const [like, setLike] = useState(post.likes.length);\r\n  const [isLiked, setIsLiked] = useState(false);\r\n  const [user, setUser] = useState({});\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const { user: currentUser } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    setIsLiked(post.likes.includes(currentUser._id));\r\n  }, [currentUser._id, post.likes]);\r\n\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      const res = await axios.get(`/users?userId=${post.userId}`);\r\n      setUser(res.data);\r\n    };\r\n    fetchUser();\r\n  }, [post.userId]);\r\n\r\n  const likeHandler = () => {\r\n    try {\r\n      axios.put(\"/posts/\" + post._id + \"/like\", { userId: currentUser._id });\r\n    } catch (err) {}\r\n    setLike(isLiked ? like - 1 : like + 1);\r\n    setIsLiked(!isLiked);\r\n  };\r\n  return (\r\n    <div className=\"post\">\r\n      <div className=\"postWrapper\">\r\n        <div className=\"postTop\">\r\n          <div className=\"postTopLeft\">\r\n            <Link to={`/profile/${user.username}`}>\r\n              <img\r\n                className=\"postProfileImg\"\r\n                src={\r\n                  user.profilePicture\r\n                    ? PF + user.profilePicture\r\n                    : PF + \"person/noAvatar.png\"\r\n                }\r\n                alt=\"\"\r\n              />\r\n            </Link>\r\n            <span className=\"postUsername\">{user.username}</span>\r\n            <span className=\"postDate\">{format(post.createdAt)}</span>\r\n          </div>\r\n          <div className=\"postTopRight\">\r\n            <MoreVert />\r\n          </div>\r\n        </div>\r\n        <div className=\"postCenter\">\r\n          <span className=\"postText\">{post?.desc}</span>\r\n          <img className=\"postImg\" src={PF + post.img} alt=\"\" />\r\n        </div>\r\n        <div className=\"postBottom\">\r\n          <div className=\"postBottomLeft\">\r\n            <img\r\n              className=\"likeIcon\"\r\n              src={`${PF}like.png`}\r\n              onClick={likeHandler}\r\n              alt=\"\"\r\n            />\r\n            <img\r\n              className=\"likeIcon\"\r\n              src={`${PF}heart.png`}\r\n              onClick={likeHandler}\r\n              alt=\"\"\r\n            />\r\n            <span className=\"postLikeCounter\">{like} people like it</span>\r\n          </div>\r\n          <div className=\"postBottomRight\">\r\n            <span className=\"postCommentText\">{post.comment} comments</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","\r\nimport \"./share.css\";\r\nimport {\r\n  PermMedia,\r\n  Label,\r\n  Room,\r\n  EmojiEmotions,\r\n  Cancel,\r\n} from \"@mui/icons-material\";\r\nimport { useContext, useRef, useState } from \"react\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport axios from \"axios\";\r\n\r\nexport default function Share() {\r\n  const { user } = useContext(AuthContext);\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const desc = useRef();\r\n  const [file, setFile] = useState(null);\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n    const newPost = {\r\n      userId: user._id,\r\n      desc: desc.current.value,\r\n    };\r\n    if (file) {\r\n      const data = new FormData();\r\n      const fileName = Date.now() + file.name;\r\n      data.append(\"name\", fileName);\r\n      data.append(\"file\", file);\r\n      newPost.img = fileName;\r\n      console.log(newPost);\r\n      try {\r\n        await axios.post(\"/upload\", data);\r\n      } catch (err) {}\r\n    }\r\n    try {\r\n      await axios.post(\"/posts\", newPost);\r\n      window.location.reload();\r\n    } catch (err) {}\r\n  };\r\n\r\n  return (\r\n    <div className=\"share\">\r\n      <div className=\"shareWrapper\">\r\n        <div className=\"shareTop\">\r\n          <img\r\n            className=\"shareProfileImg\"\r\n            src={\r\n              user.profilePicture\r\n                ? PF + user.profilePicture\r\n                : PF + \"person/noAvatar.png\"\r\n            }\r\n            alt=\"\"\r\n          />\r\n          <input\r\n            placeholder={\"What's in your mind \" + user.username + \"?\"}\r\n            className=\"shareInput\"\r\n            ref={desc}\r\n          />\r\n        </div>\r\n        <hr className=\"shareHr\" />\r\n        {file && (\r\n          <div className=\"shareImgContainer\">\r\n            <img className=\"shareImg\" src={URL.createObjectURL(file)} alt=\"\" />\r\n            <Cancel className=\"shareCancelImg\" onClick={() => setFile(null)} />\r\n          </div>\r\n        )}\r\n        <form className=\"shareBottom\" onSubmit={submitHandler}>\r\n          <div className=\"shareOptions\">\r\n            <label htmlFor=\"file\" className=\"shareOption\">\r\n              <PermMedia htmlColor=\"tomato\" className=\"shareIcon\" />\r\n              <span className=\"shareOptionText\">Photo or Video</span>\r\n              <input\r\n                style={{ display: \"none\" }}\r\n                type=\"file\"\r\n                id=\"file\"\r\n                accept=\".png,.jpeg,.jpg\"\r\n                onChange={(e) => setFile(e.target.files[0])}\r\n              />\r\n            </label>\r\n            <div className=\"shareOption\">\r\n              <Label htmlColor=\"blue\" className=\"shareIcon\" />\r\n              <span className=\"shareOptionText\">Tag</span>\r\n            </div>\r\n            <div className=\"shareOption\">\r\n              <Room htmlColor=\"green\" className=\"shareIcon\" />\r\n              <span className=\"shareOptionText\">Location</span>\r\n            </div>\r\n            <div className=\"shareOption\">\r\n              <EmojiEmotions htmlColor=\"goldenrod\" className=\"shareIcon\" />\r\n              <span className=\"shareOptionText\">Feelings</span>\r\n            </div>\r\n          </div>\r\n          <button className=\"shareButton\" type=\"submit\">\r\n            Share\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport Post from \"../post/Post\";\r\nimport Share from \"../share/Share\";\r\nimport \"./feed.css\";\r\nimport axios from \"axios\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nexport default function Feed({ username }) {\r\n  const [posts, setPosts] = useState([]);\r\n  const { user } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    const fetchPosts = async () => {\r\n      const res = username\r\n        ? await axios.get(\"/posts/profile/\" + username)\r\n        : await axios.get(\"posts/timeline/\" + user._id);\r\n      setPosts(\r\n        res.data.sort((p1, p2) => {\r\n          return new Date(p2.createdAt) - new Date(p1.createdAt);\r\n        })\r\n      );\r\n    };\r\n    fetchPosts();\r\n  }, [username, user._id]);\r\n\r\n  return (\r\n    <div className=\"feed\">\r\n      <div className=\"feedWrapper\">\r\n        {(!username || username === user.username) && <Share />}\r\n        {posts.map((p) => (\r\n          <Post key={p._id} post={p} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","\r\nimport \"./online.css\";\r\n\r\nexport default function Online({user}) {\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n\r\n  return (\r\n    <li className=\"rightbarFriend\">\r\n      <div className=\"rightbarProfileImgContainer\">\r\n        <img className=\"rightbarProfileImg\" src={PF+user.profilePicture} alt=\"\" />\r\n        <span className=\"rightbarOnline\"></span>\r\n      </div>\r\n      <span className=\"rightbarUsername\">{user.username}</span>\r\n    </li>\r\n  );\r\n}\r\n","\r\nimport \"./rightbar.css\";\r\nimport { Users } from \"../../dummyData\";\r\nimport Online from \"../online/Online\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { Add, Remove } from \"@mui/icons-material\";\r\n\r\nexport default function Rightbar({ user }) {\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const [friends, setFriends] = useState([]);\r\n  const { user: currentUser, dispatch } = useContext(AuthContext);\r\n  const [followed, setFollowed] = useState(\r\n    currentUser.followings.includes(user?.id)\r\n  );\r\n\r\n  useEffect(() => {\r\n    const getFriends = async () => {\r\n      try {\r\n        const friendList = await axios.get(\"/users/friends/\" + user._id);\r\n        setFriends(friendList.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getFriends();\r\n  }, [user]);\r\n\r\n  const handleClick = async () => {\r\n    try {\r\n      if (followed) {\r\n        await axios.put(`/users/${user._id}/unfollow`, {\r\n          userId: currentUser._id,\r\n        });\r\n        dispatch({ type: \"UNFOLLOW\", payload: user._id });\r\n      } else {\r\n        await axios.put(`/users/${user._id}/follow`, {\r\n          userId: currentUser._id,\r\n        });\r\n        dispatch({ type: \"FOLLOW\", payload: user._id });\r\n      }\r\n      setFollowed(!followed);\r\n    } catch (err) {\r\n    }\r\n  };\r\n\r\n  const HomeRightbar = () => {\r\n    return (\r\n      <>\r\n        <div className=\"birthdayContainer\">\r\n          <img className=\"birthdayImg\" src=\"assets/gift.png\" alt=\"\" />\r\n          <span className=\"birthdayText\">\r\n            <b>Pola Foster</b> and <b>3 other friends</b> have a birhday today.\r\n          </span>\r\n        </div>\r\n        <img className=\"rightbarAd\" src=\"assets/ad.png\" alt=\"\" />\r\n        <h4 className=\"rightbarTitle\">Online Friends</h4>\r\n        <ul className=\"rightbarFriendList\">\r\n          {Users.map((u) => (\r\n            <Online key={u.id} user={u} />\r\n          ))}\r\n        </ul>\r\n      </>\r\n    );\r\n  };\r\n\r\n  const ProfileRightbar = () => {\r\n    return (\r\n      <>\r\n        {user.username !== currentUser.username && (\r\n          <button className=\"rightbarFollowButton\" onClick={handleClick}>\r\n            {followed ? \"Unfollow\" : \"Follow\"}\r\n            {followed ? <Remove /> : <Add />}\r\n          </button>\r\n        )}\r\n        <h4 className=\"rightbarTitle\">User information</h4>\r\n        <div className=\"rightbarInfo\">\r\n          <div className=\"rightbarInfoItem\">\r\n            <span className=\"rightbarInfoKey\">City:</span>\r\n            <span className=\"rightbarInfoValue\">{user.city}</span>\r\n          </div>\r\n          <div className=\"rightbarInfoItem\">\r\n            <span className=\"rightbarInfoKey\">From:</span>\r\n            <span className=\"rightbarInfoValue\">{user.from}</span>\r\n          </div>\r\n          <div className=\"rightbarInfoItem\">\r\n            <span className=\"rightbarInfoKey\">Relationship:</span>\r\n            <span className=\"rightbarInfoValue\">\r\n              {user.relationship === 1\r\n                ? \"Single\"\r\n                : user.relationship === 1\r\n                ? \"Married\"\r\n                : \"-\"}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <h4 className=\"rightbarTitle\">User friends</h4>\r\n        <div className=\"rightbarFollowings\">\r\n          {friends.map((friend) => (\r\n            <Link\r\n              to={\"/profile/\" + friend.username}\r\n              style={{ textDecoration: \"none\" }}\r\n            >\r\n              <div className=\"rightbarFollowing\">\r\n                <img\r\n                  src={\r\n                    friend.profilePicture\r\n                      ? PF + friend.profilePicture\r\n                      : PF + \"person/noAvatar.png\"\r\n                  }\r\n                  alt=\"\"\r\n                  className=\"rightbarFollowingImg\"\r\n                />\r\n                <span className=\"rightbarFollowingName\">{friend.username}</span>\r\n              </div>\r\n            </Link>\r\n          ))}\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n  return (\r\n    <div className=\"rightbar\">\r\n      <div className=\"rightbarWrapper\">\r\n        {user ? <ProfileRightbar /> : <HomeRightbar />}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport Topbar from \"../../components/topbar/Topbar\";\r\nimport Sidebar from \"../../components/sidebar/Sidebar\";\r\nimport Feed from \"../../components/feed/Feed\";\r\nimport Rightbar from \"../../components/rightbar/Rightbar\";\r\nimport \"./home.css\"\r\n\r\nexport default function Home() {\r\n  return (\r\n    <>\r\n      <Topbar />\r\n      <div className=\"homeContainer\">\r\n        <Sidebar />\r\n        <Feed/>\r\n        <Rightbar/>\r\n      </div>\r\n    </>\r\n  );\r\n}","import axios from \"axios\";\r\n\r\nexport const loginCall = async (userCredential, dispatch) => {\r\n  dispatch({ type: \"LOGIN_START\" });\r\n  try {\r\n    const res = await axios.post(\"/auth/login\", userCredential);\r\n    dispatch({ type: \"LOGIN_SUCCESS\", payload: res.data });\r\n  } catch (err) {\r\n    dispatch({ type: \"LOGIN_FAILURE\", payload: err });\r\n  }\r\n};","import { useContext, useRef } from \"react\";\r\nimport \"./login.css\";\r\nimport { loginCall } from \"../../apiCalls\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\n\r\nexport default function Login() {\r\n  const email = useRef();\r\n  const password = useRef();\r\n  const { isFetching, dispatch } = useContext(AuthContext);\r\n\r\n  const handleClick = (e) => {\r\n    e.preventDefault();\r\n    loginCall(\r\n      { email: email.current.value, password: password.current.value },\r\n      dispatch\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"loginWrapper\">\r\n        <div className=\"loginLeft\">\r\n          <h3 className=\"loginLogo\">Lamasocial</h3>\r\n          <span className=\"loginDesc\">\r\n            Connect with friends and the world around you on Lamasocial.\r\n          </span>\r\n        </div>\r\n        <div className=\"loginRight\">\r\n          <form className=\"loginBox\" onSubmit={handleClick}>\r\n            <input\r\n              placeholder=\"Email\"\r\n              type=\"email\"\r\n              required\r\n              className=\"loginInput\"\r\n              ref={email}\r\n            />\r\n            <input\r\n              placeholder=\"Password\"\r\n              type=\"password\"\r\n              required\r\n              minLength=\"6\"\r\n              className=\"loginInput\"\r\n              ref={password}\r\n            />\r\n            <button className=\"loginButton\" type=\"submit\" disabled={isFetching}>\r\n              {isFetching ? (\r\n                <CircularProgress color=\"white\" size=\"20px\" />\r\n              ) : (\r\n                \"Log In\"\r\n              )}\r\n            </button>\r\n            <span className=\"loginForgot\">Forgot Password?</span>\r\n            <button className=\"loginRegisterButton\">\r\n              {isFetching ? (\r\n                <CircularProgress color=\"white\" size=\"20px\" />\r\n              ) : (\r\n                \"Create a New Account\"\r\n              )}\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}","\r\nimport \"./profile.css\";\r\nimport Topbar from \"../../components/topbar/Topbar\";\r\nimport Sidebar from \"../../components/sidebar/Sidebar\";\r\nimport Feed from \"../../components/feed/Feed\";\r\nimport Rightbar from \"../../components/rightbar/Rightbar\";\r\nimport { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useParams } from \"react-router\";\r\n\r\nexport default function Profile() {\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const [user, setUser] = useState({});\r\n  const username = useParams().username;\r\n\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      const res = await axios.get(`/users?username=${username}`);\r\n      setUser(res.data);\r\n    };\r\n    fetchUser();\r\n  }, [username]);\r\n\r\n  return (\r\n    <>\r\n      <Topbar />\r\n      <div className=\"profile\">\r\n        <Sidebar />\r\n        <div className=\"profileRight\">\r\n          <div className=\"profileRightTop\">\r\n            <div className=\"profileCover\">\r\n              <img\r\n                className=\"profileCoverImg\"\r\n                src={\r\n                  user.coverPicture\r\n                    ? PF + user.coverPicture\r\n                    : PF + \"person/noCover.png\"\r\n                }\r\n                alt=\"\"\r\n              />\r\n              <img\r\n                className=\"profileUserImg\"\r\n                src={\r\n                  user.profilePicture\r\n                    ? PF + user.profilePicture\r\n                    : PF + \"person/noAvatar.png\"\r\n                }\r\n                alt=\"\"\r\n              />\r\n            </div>\r\n            <div className=\"profileInfo\">\r\n              <h4 className=\"profileInfoName\">{user.username}</h4>\r\n              <span className=\"profileInfoDesc\">{user.desc}</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"profileRightBottom\">\r\n            <Feed username={username} />\r\n            <Rightbar user={user} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport { useRef } from \"react\";\r\nimport \"./register.css\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nexport default function Register() {\r\n  const username = useRef();\r\n  const email = useRef();\r\n  const password = useRef();\r\n  const passwordAgain = useRef();\r\n  const history = useHistory();\r\n\r\n  const handleClick = async (e) => {\r\n    e.preventDefault();\r\n    if (passwordAgain.current.value !== password.current.value) {\r\n      passwordAgain.current.setCustomValidity(\"Passwords don't match!\");\r\n    } else {\r\n      passwordAgain.current.setCustomValidity(\"\");\r\n      const user = {\r\n        username: username.current.value,\r\n        email: email.current.value,\r\n        password: password.current.value,\r\n      };\r\n      try {\r\n        await axios.post(\"http://localhost:8800/api/auth/register\", user);\r\n        history.push(\"/login\");\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleLoginClick = () => {\r\n    history.push(\"/login\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"loginWrapper\">\r\n        <div className=\"loginLeft\">\r\n          <h3 className=\"loginLogo\">OneWorld</h3>\r\n          <span className=\"loginDesc\">\r\n            Connect with friends and the world around you on OneWorld.\r\n          </span>\r\n        </div>\r\n        <div className=\"loginRight\">\r\n          <form className=\"loginBox\" onSubmit={handleClick}>\r\n            <input\r\n              placeholder=\"Username\"\r\n              required\r\n              ref={username}\r\n              className=\"loginInput\"\r\n            />\r\n            <input\r\n              placeholder=\"Email\"\r\n              required\r\n              ref={email}\r\n              className=\"loginInput\"\r\n              type=\"email\"\r\n            />\r\n            <input\r\n              placeholder=\"Password\"\r\n              required\r\n              ref={password}\r\n              className=\"loginInput\"\r\n              type=\"password\"\r\n              minLength=\"6\"\r\n            />\r\n            <input\r\n              placeholder=\"Password Again\"\r\n              required\r\n              ref={passwordAgain}\r\n              className=\"loginInput\"\r\n              type=\"password\"\r\n            />\r\n            <button className=\"loginButton\" type=\"submit\">\r\n              Sign Up\r\n            </button>\r\n            <button\r\n              className=\"loginRegisterButton\"\r\n              onClick={handleLoginClick}\r\n            >\r\n              Log into Account\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","\r\nimport axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport \"./conversation.css\";\r\n\r\nexport default function Conversation({ conversation, currentUser }) {\r\n  const [user, setUser] = useState(null);\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n\r\n  useEffect(() => {\r\n    const friendId = conversation.members.find((m) => m !== currentUser._id);\r\n\r\n    const getUser = async () => {\r\n      try {\r\n        const res = await axios(\"/users?userId=\" + friendId);\r\n        setUser(res.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getUser();\r\n  }, [currentUser, conversation]);\r\n\r\n  return (\r\n    <div className=\"conversation\">\r\n      <img\r\n        className=\"conversationImg\"\r\n        src={\r\n          user?.profilePicture\r\n            ? PF + user.profilePicture\r\n            : PF + \"person/noAvatar.png\"\r\n        }\r\n        alt=\"\"\r\n      />\r\n      <span className=\"conversationName\">{user?.username}</span>\r\n    </div>\r\n  );\r\n}\r\n","\r\nimport \"./message.css\";\r\nimport { format } from \"timeago.js\";\r\n\r\nexport default function Message({ message, own }) {\r\n  return (\r\n    <div className={own ? \"message own\" : \"message\"}>\r\n      <div className=\"messageTop\">\r\n        <img\r\n          className=\"messageImg\"\r\n          src=\"https://images.pexels.com/photos/3686769/pexels-photo-3686769.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500\"\r\n          alt=\"\"\r\n        />\r\n        <p className=\"messageText\">{message.text}</p>\r\n      </div>\r\n      <div className=\"messageBottom\">{format(message.createdAt)}</div>\r\n    </div>\r\n  );\r\n}\r\n","\r\nimport axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport \"./chatOnline.css\";\r\n\r\nexport default function ChatOnline({ onlineUsers, currentId, setCurrentChat }) {\r\n  const [friends, setFriends] = useState([]);\r\n  const [onlineFriends, setOnlineFriends] = useState([]);\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n\r\n  useEffect(() => {\r\n    const getFriends = async () => {\r\n      const res = await axios.get(\"/users/friends/\" + currentId);\r\n      setFriends(res.data);\r\n    };\r\n\r\n    getFriends();\r\n  }, [currentId]);\r\n\r\n  useEffect(() => {\r\n    setOnlineFriends(friends.filter((f) => onlineUsers.includes(f._id)));\r\n  }, [friends, onlineUsers]);\r\n\r\n  const handleClick = async (user) => {\r\n    try {\r\n      const res = await axios.get(\r\n        `/conversations/find/${currentId}/${user._id}`\r\n      );\r\n      setCurrentChat(res.data);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"chatOnline\">\r\n      {onlineFriends.map((o) => (\r\n        <div className=\"chatOnlineFriend\" onClick={() => handleClick(o)}>\r\n          <div className=\"chatOnlineImgContainer\">\r\n            <img\r\n              className=\"chatOnlineImg\"\r\n              src={\r\n                o?.profilePicture\r\n                  ? PF + o.profilePicture\r\n                  : PF + \"person/noAvatar.png\"\r\n              }\r\n              alt=\"\"\r\n            />\r\n            <div className=\"chatOnlineBadge\"></div>\r\n          </div>\r\n          <span className=\"chatOnlineName\">{o?.username}</span>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","\r\nimport \"./messenger.css\";\r\nimport Topbar from \"../../components/topbar/Topbar\";\r\nimport Conversation from \"../../components/conversations/Conversation\";\r\nimport Message from \"../../components/message/Message\";\r\nimport ChatOnline from \"../../components/chatOnline/ChatOnline\";\r\nimport { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport axios from \"axios\";\r\nimport { io } from \"socket.io-client\";\r\n\r\nexport default function Messenger() {\r\n  const [conversations, setConversations] = useState([]);\r\n  const [currentChat, setCurrentChat] = useState(null);\r\n  const [messages, setMessages] = useState([]);\r\n  const [newMessage, setNewMessage] = useState(\"\");\r\n  const [arrivalMessage, setArrivalMessage] = useState(null);\r\n  const [onlineUsers, setOnlineUsers] = useState([]);\r\n  const socket = useRef();\r\n  const { user } = useContext(AuthContext);\r\n  const scrollRef = useRef();\r\n\r\n  useEffect(() => {\r\n    socket.current = io(\"ws://localhost:8900\");\r\n    socket.current.on(\"getMessage\", (data) => {\r\n      setArrivalMessage({\r\n        sender: data.senderId,\r\n        text: data.text,\r\n        createdAt: Date.now(),\r\n      });\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    arrivalMessage &&\r\n      currentChat?.members.includes(arrivalMessage.sender) &&\r\n      setMessages((prev) => [...prev, arrivalMessage]);\r\n  }, [arrivalMessage, currentChat]);\r\n\r\n  useEffect(() => {\r\n    socket.current.emit(\"addUser\", user._id);\r\n    socket.current.on(\"getUsers\", (users) => {\r\n      setOnlineUsers(\r\n        user.followings.filter((f) => users.some((u) => u.userId === f))\r\n      );\r\n    });\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    const getConversations = async () => {\r\n      try {\r\n        const res = await axios.get(\"/conversations/\" + user._id);\r\n        setConversations(res.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getConversations();\r\n  }, [user._id]);\r\n\r\n  useEffect(() => {\r\n    const getMessages = async () => {\r\n      try {\r\n        const res = await axios.get(\"/messages/\" + currentChat?._id);\r\n        setMessages(res.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getMessages();\r\n  }, [currentChat]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const message = {\r\n      sender: user._id,\r\n      text: newMessage,\r\n      conversationId: currentChat._id,\r\n    };\r\n\r\n    const receiverId = currentChat.members.find(\r\n      (member) => member !== user._id\r\n    );\r\n\r\n    socket.current.emit(\"sendMessage\", {\r\n      senderId: user._id,\r\n      receiverId,\r\n      text: newMessage,\r\n    });\r\n\r\n    try {\r\n      const res = await axios.post(\"/messages\", message);\r\n      setMessages([...messages, res.data]);\r\n      setNewMessage(\"\");\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  }, [messages]);\r\n\r\n  return (\r\n    <>\r\n      <Topbar />\r\n      <div className=\"messenger\">\r\n        <div className=\"chatMenu\">\r\n          <div className=\"chatMenuWrapper\">\r\n            <input placeholder=\"Search for friends\" className=\"chatMenuInput\" />\r\n            {conversations.map((c) => (\r\n              <div onClick={() => setCurrentChat(c)}>\r\n                <Conversation conversation={c} currentUser={user} />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className=\"chatBox\">\r\n          <div className=\"chatBoxWrapper\">\r\n            {currentChat ? (\r\n              <>\r\n                <div className=\"chatBoxTop\">\r\n                  {messages.map((m) => (\r\n                    <div ref={scrollRef}>\r\n                      <Message message={m} own={m.sender === user._id} />\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                <div className=\"chatBoxBottom\">\r\n                  <textarea\r\n                    className=\"chatMessageInput\"\r\n                    placeholder=\"write something...\"\r\n                    onChange={(e) => setNewMessage(e.target.value)}\r\n                    value={newMessage}\r\n                  ></textarea>\r\n                  <button className=\"chatSubmitButton\" onClick={handleSubmit}>\r\n                    Send\r\n                  </button>\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <span className=\"noConversationText\">\r\n                Open a conversation to start a chat.\r\n              </span>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"chatOnline\">\r\n          <div className=\"chatOnlineWrapper\">\r\n            <ChatOnline\r\n              onlineUsers={onlineUsers}\r\n              currentId={user._id}\r\n              setCurrentChat={setCurrentChat}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import Home from \"./pages/home/Home\";\nimport Login from \"./pages/login/Login\";\nimport Profile from \"./pages/profile/Profile\";\nimport Register from \"./pages/register/Register\";\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"./context/AuthContext\";\nimport Messenger from \"./pages/messenger/Messenger\";\nfunction App() {\n  const { user } = useContext(AuthContext);\n  return (\n    <Router>\n      \n      <Switch>\n        <Route exact path=\"/\">\n          {user ? <Home /> : <Register />}\n        </Route>\n        <Route path=\"/login\">{user ? <Redirect to=\"/\" /> : <Login />}</Route>\n        <Route path=\"/register\">\n          {user ? <Redirect to=\"/\" /> : <Register />}\n        </Route>\n        <Route path=\"/messenger\">\n          {!user ? <Redirect to=\"/\" /> : <Messenger />}\n        </Route>\n        <Route path=\"/profile/:username\">\n          <Profile />\n        </Route>\n      </Switch>\n      \n    </Router>\n  );\n}\n\nexport default App;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { AuthContextProvider } from \"./context/AuthContext\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);"],"sourceRoot":""}